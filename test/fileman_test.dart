import 'package:flutter_test/flutter_test.dart';
import 'package:fileman/repository/fileman_repository.dart';

void main() {
  test("Get file should be return a bytes", () async {
    final filemanRepository = FilemanRepository(
      apiGatewayURL: "https://apitest.vnptigate.vn",
      id: "61a82b460cb4e74d4661cfa4",
    );
    String accessToken =
        "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJqazlObnpLTWVTeTF6Wk53RW1WMHVzY0FFcWFicTY4MGh5ZFpqY2Q0Wl9zIn0.eyJleHAiOjE2Mzg0MTQ2MTQsImlhdCI6MTYzODQxMTAxNCwianRpIjoiNjQ2MDk1ZjktYjVlZC00ZTY1LWI4ZmQtMTY4M2NjZTI1MzlkIiwiaXNzIjoiaHR0cHM6Ly9zc290ZXN0LnZucHRpZ2F0ZS52bi9hdXRoL3JlYWxtcy9kaWdvIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImY6YzA5OGZmOWYtZGM5ZS00MmI3LTkxNmMtZGI4MWE0YjhmZDc4OmFkbWludGVzdCIsInR5cCI6IkJlYXJlciIsImF6cCI6IndlYi1jaXRpemVuc2FkbSIsInNlc3Npb25fc3RhdGUiOiJhZDU5YTAzNy1kMTAxLTQyZTktOTRmNS0zMDk4OGU0ZmU0ZmIiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIkFDVElWSVRJX01PREVMRVIiLCJBUFNfVVNFUiIsIm9mZmxpbmVfYWNjZXNzIiwiQUNUSVZJVElfQURNSU4iLCJBQ1RJVklUSV9VU0VSIiwiQVBTX01PREVMRVIiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsImFjY291bnRfaWQiOiI1ZmU5ODFiZmIzOGRmNjE0ZWQ0MTMyN2UiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsInVzZXJfaWQiOiI1ZmU5ODFiZmU0MGJlMzBmNjVmMmVmMmQiLCJwZXJtaXNzaW9ucyI6W3sicGVybWlzc2lvbiI6eyJjb2RlIjoiY2R0YWRtVGFnTWFuYWdlbWVudCJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6ImNkdGFkbVJvbGVNYW5hZ2VtZW50In19LHsicGVybWlzc2lvbiI6eyJjb2RlIjoiY2R0YWRtQWNjb3VudERlY2VudHJhbGl6YXRpb24ifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJjZHRhZG1MYW5ndWFnZU1hbmFnZW1lbnQifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJjZHRhZG1BZ2VuY3lMZXZlbE1hbmFnZW1lbnQifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJjZHRhZG1DYXJlZXJNYW5hZ2VtZW50In19LHsicGVybWlzc2lvbiI6eyJjb2RlIjoiY2R0YWRtUGxhY2VUeXBlTWFuYWdlbWVudCJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6ImNkdGFkbU5hdGlvbk1hbmFnZW1lbnQifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJjZHRhZG1BZHZhbmNlZEFkbWluaXN0cmF0b3IifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJjZHRhZG1BY2NvdW50TWFuYWdlbWVudCJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6ImNkdGFkbVBsYWNlTWFuYWdlbWVudCJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6ImNkdGFkbVBvc2l0aW9uTWFuYWdlbWVudCJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6ImNkdGFkbUNhdGVnb3J5VGFnTWFuYWdlbWVudCJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6ImNkdGFkbVVuaXRNYW5hZ2VtZW50In19LHsicGVybWlzc2lvbiI6eyJjb2RlIjoiY2R0YWRtRXRobmljTWFuYWdlbWVudCJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6ImNkdGFkbVBlcm1pc3Npb25NYW5hZ2VtZW50In19LHsicGVybWlzc2lvbiI6eyJjb2RlIjoiY2R0YWRtQXBwbGljYXRpb25NYW5hZ2VtZW50In19LHsicGVybWlzc2lvbiI6eyJjb2RlIjoiY2R0YWRtUGF0dGVybk1hbmFnZW1lbnQifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJjZHRhZG1BZ2VuY3lNYW5hZ2VtZW50In19LHsicGVybWlzc2lvbiI6eyJjb2RlIjoiY2R0YWRtUmVsaWdpb25NYW5hZ2VtZW50In19LHsicGVybWlzc2lvbiI6eyJjb2RlIjoicGV0aXRpb25BY2NlcHRlciJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6InBldGl0aW9uTWFuYWdlciJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6InBldGl0aW9uQ29uZmlndXJhdGlvbiJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6InBldGl0aW9uU3RhdGljdGlzQnlUYWcifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJwZXRpdGlvblN0YXRpY3Rpc0J5TGlzdCJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6InBldGl0aW9uQWRtaW4ifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJwZXRpdGlvblN0YXRpY3Rpc0J5QW5vbnltb3VzIn19LHsicGVybWlzc2lvbiI6eyJjb2RlIjoicGV0aXRpb25SZXNvbHZlciJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6InBldGl0aW9uQXBwcm92ZXIifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJyZXBvcnRlckFkbWluTWFzdGVyIn19LHsicGVybWlzc2lvbiI6eyJjb2RlIjoicGV0aXRpb25BZ2VuY3lTdGF0aXN0aWNzVEcifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJwZXRpdGlvbkNoYW5uZWxTdGF0aXN0aWNzVEcifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJvbmVHYXRlQWRtaW5NYXN0ZXIifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJwYWRzdmNhZG1NYXN0ZXIifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJhY3Rpdml0aU1vZGVsZXIifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJhY3Rpdml0aUFkbWluIn19LHsicGVybWlzc2lvbiI6eyJjb2RlIjoidm5jaXRpemVuc0FkbWluTWFzdGVyIn19LHsicGVybWlzc2lvbiI6eyJjb2RlIjoiSU9DVmlldyJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6ImludGVncmF0aW9uQWRtaW4ifX0seyJwZXJtaXNzaW9uIjp7ImNvZGUiOiJjaXRpemVuc2FkbURpc2Vhc2VOZXdzQXBwcm92ZSJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6ImNpdGl6ZW5zYWRtTm9maXRpY2F0aW9uQXBwcm92ZSJ9fSx7InBlcm1pc3Npb24iOnsiY29kZSI6Im1hbmFnZURpZ28ifX1dLCJuYW1lIjoiTmd1eeG7hW4gQ2jDrSBUaGnhu4duIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW50ZXN0IiwiYXBwX3Blcm1pc3Npb25zIjpbIi9zdmNNZW51L21hbmFnZUl0ZW0iXSwiZGVwbG95bWVudF9pZCI6IjVlZTA5MTUwN2Q1NjdjOWZlMjlmODJmYSIsImdpdmVuX25hbWUiOiJOZ3V54buFbiBDaMOtIFRoaeG7h24ifQ.IJSh9F_FCM7b_HSi1EacUH4H1bdhvddN3XjK8I4ZwKHVkQB-6lkczHFfX9hU31p7hQMgigvkvQTkpHnNxvHcVYo74MwxcfeiHrYMN3xpEFGrMVAtTQQrdYonGKbanRm6WfOxkA6O7fbElbAEJMSULXObTrz9aW6CG6hUh7sd7adsKuejGlegy_itYIB5YIPZfhWXxZYRHypUkXbG0fafDYGQer401NSFFvFzsrE0Y_UmgCe7ZHnKXzSLrf4Q2o9-G9VKOBHfWNfk8LQOKORl0oD9pM5tRVkrCVKtzzTSOxUGiBeSxrOspVtI7bOdkgkvQH-z_lyQAWF_C7ffETCwng";

    final file = await filemanRepository.getFile(accessToken);

    // print(file);

    expect(file.isNotEmpty, true);
  });
}
